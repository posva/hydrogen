function sprite(i){var e={},t=0,o=0,n=i.ticksPerFrame||0,s=i.numberOfFrames||1;return e.context=i.context,e.width=i.width,e.height=i.height,e.image=i.image,e.update=function(){o+=1,o>n&&(o=0,s-1>t?t+=1:t=0)},e.render=function(){e.context.clearRect(0,0,e.width,e.height),e.context.drawImage(e.image,t*e.width/s,0,e.width/s,e.height,0,0,e.width/s,e.height)},e}window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;for(var JSON=JSON.parse('{ "states": [ { "id":"liquid", "sprite": "img/liquid.png", "w": 155, "h": 113, "x": 50, "y": 248, "hitZoneW": 113, "hitZoneH": 113, "hitZoneX": 92, "hitZoneY": 248 }, { "id":"solid", "sprite": "img/solid.png", "w": 166, "h": 166, "x": 50, "y": 200, "hitZoneW": 140, "hitZoneH": 166, "hitZoneX": 76, "hitZoneY": 200 }, { "id":"gas", "sprite": "img/gas.png", "w": 155, "h": 126, "x": 50, "y": 80, "hitZoneW": 130, "hitZoneH": 126, "hitZoneX": 75, "hitZoneY": 80 } ], "obstaclesList": [ "grid", "wallBottom", "wallTop" ], "obstaclesFreq": [ 0,1,2,3 ], "obstacles": [ { "id":"grid", "w":60, "h":400, "x":880, "y":20, "hitZoneW": 60, "hitZoneH": 400, "hitZoneX": 880, "hitZoneY": 20, "allowList":[0,2] }, { "id":"wallBottom", "w":60, "h":150, "x":880, "y":250, "hitZoneW": 60, "hitZoneH": 150, "hitZoneX": 880, "hitZoneY": 250, "allowList":[2] }, { "id":"wallTop", "w":60, "h":150, "x":880, "y":20, "hitZoneW": 60, "hitZoneH": 150, "hitZoneX": 880, "hitZoneY": 20, "allowList":[1,0] }, { "id":"hole", "w":200, "h":90, "x":880, "y":350, "hitZoneW": 200, "hitZoneH": 90, "hitZoneX": 880, "hitZoneY": 350, "allowList":[2] } ] }'),DEBUG=!0,GAME_W=880,GAME_H=440,canvasB,canvasM,canvasF,decor,coins,obstacles,effects,effectsVIP,P,element,mancheTimestamp,mancheStep=0,mancheEtape,speed=0,speedX=60,LIQUID=0,SOLID=1,GAS=2,PLASMA=3,imgSolid=new Image,imgLiquid=new Image,imgGas=new Image,imgSolidToLiquid=new Image,decors=new Array,i=0;0>=i;i++)decors[i]=new Image,decors[i].src="img/decor-"+i+".png";imgGas.src=JSON.states[GAS].sprite,imgSolid.src=JSON.states[SOLID].sprite,imgLiquid.src=JSON.states[LIQUID].sprite,imgSolidToLiquid.src="img/liquidToSolid.png";